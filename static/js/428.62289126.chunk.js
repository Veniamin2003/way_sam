"use strict";(self.webpackChunkway_sam=self.webpackChunkway_sam||[]).push([[428],{6291:function(s,t,e){e.r(t),e.d(t,{default:function(){return E}});var i=e(1413),r=e(5671),o=e(3144),n=e(136),a=e(2882),c=e(2791),u=e(6871),l=e(6070),d="MyPosts_content__plaUH",h="MyPosts_posts__puurh",p="Post_item__WzUdB",f=e(184),x=function(s){return(0,f.jsxs)("div",{className:p,children:[(0,f.jsx)("img",{src:"https://w7.pngwing.com/pngs/862/646/png-transparent-beard-hipster-male-man-avatars-xmas-giveaway-icon-thumbnail.png"}),s.messages,(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:["Like ",s.likesCount]})})]})},j=e(6139),m=e(704),v=e(5304),g=e(9086),b=(0,v.D)(10),P=(0,m.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,f.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,f.jsx)(j.Z,{component:g.gx,name:"newPostText",placeholder:"Enter your post",validate:[v.C,b]}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add posts"})})]})})),S=function(s){var t=s.posts.map((function(s){return(0,f.jsx)(x,{messages:s.message,likesCount:s.likesCount},s.id)}));return(0,f.jsx)("div",{className:d,children:(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{children:"my posts"}),(0,f.jsx)(P,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,f.jsx)("div",{className:h,children:t})]})})},_=e(8687),k=e(7781),w=(0,k.qC)((0,_.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,l.Wl)(t))}}})))(S),y=e(885),Z={descriptionBlock:"ProfileInfo_descriptionBlock__gYXcM",statusJob:"ProfileInfo_statusJob__zsazX",imgStatusJob:"ProfileInfo_imgStatusJob__ynJVs"},I=e(1760),M=e.p+"static/media/relax1.7dd6a7559c81f3006b0d.gif",A=e.p+"static/media/searching1.d185888559f689f25b66.gif",C=function(s){var t=(0,c.useState)(!1),e=(0,y.Z)(t,2),i=e[0],r=e[1],o=(0,c.useState)(s.status),n=(0,y.Z)(o,2),a=n[0],u=n[1];return(0,f.jsx)("div",{children:s.isOwner?(0,f.jsxs)("div",{children:[!i&&(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441: "}),(0,f.jsx)("span",{onDoubleClick:function(){r(!0)},children:s.status||"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})]}),i&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(s){u(s.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),s.updateStatus(a)},value:a})})]}):(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441: "}),(0,f.jsx)("span",{children:s.status||"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})]})})},N=e(7895),U=e(8312),J=e(9234),F=(0,m.Z)({form:"edit-profile"})((function(s){var t=s.profile,e=s.handleSubmit,i=s.error;return(0,f.jsxs)("form",{onSubmit:e,children:[(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"save"})}),i&&(0,f.jsx)("div",{className:J.Z.formSummaryError,children:i}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Full name"}),": ",(0,g.Gr)("Full name","fullName",[],g.II)]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking for a job"}),": ",(0,g.Gr)("","lookingForAJob",[],g.II,{type:"checkbox"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"My professional skills"}),":",(0,g.Gr)("My professional skills","lookingForAJobDescription",[],g.gx)]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me"}),":",(0,g.Gr)("About me","aboutMe",[],g.gx)]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(s){return(0,f.jsx)("div",{className:Z.contact,children:(0,f.jsxs)("b",{children:[s,": ",(0,g.Gr)(s,"contacts."+s,[],g.II)]})},s)}))]})]})})),O=function(s){var t=s.profile,e=s.isOwner,i=s.goToEditMode;return(0,f.jsxs)("div",{children:[e&&(0,f.jsxs)("div",{children:[" ",(0,f.jsx)("button",{onClick:i,children:"edit"})," "]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"\u0418\u043c\u044f:"})," ",t.fullName]}),(0,f.jsxs)("div",{className:Z.statusJob,children:[(0,f.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u043e\u0438\u0441\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b:"}),(0,f.jsx)("div",{className:Z.imgStatusJob,children:t.lookingForAJob?(0,f.jsx)("img",{src:A}):(0,f.jsx)("img",{src:M})})]}),t.lookingForAJob&&(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u044b\u043a\u0438:"})," ",t.lookingForAJobDescription]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",t.aboutMe]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"})," ",Object.keys(t.contacts).map((function(s){return(0,f.jsx)(T,{contactTitle:s,contactValue:t.contacts[s]},s)}))]})]})},T=function(s){var t=s.contactTitle,e=s.contactValue;return(0,f.jsxs)("div",{className:U.Z.contact,children:[(0,f.jsx)("b",{children:t}),": ",e]})},D=function(s){var t=s.profile,e=s.status,i=s.updateStatus,r=s.isOwner,o=s.savePhoto,n=s.saveProfile,a=(0,c.useState)(!1),u=(0,y.Z)(a,2),l=u[0],d=u[1];if(!t)return(0,f.jsx)(I.Z,{});return(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:Z.descriptionBlock,children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:t.photos.large||N,className:U.Z.mainPhoto})}),(0,f.jsx)("div",{children:r&&(0,f.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&o(s.target.files[0])}})}),l?(0,f.jsx)(F,{initialValues:t,profile:t,onSubmit:function(s){n(s).then((function(){d(!1)}))}}):(0,f.jsx)(O,{profile:t,isOwner:r,goToEditMode:function(){d(!0)}}),(0,f.jsx)(C,{status:e,updateStatus:i,isOwner:r})]})})},G=function(s){return(0,f.jsxs)("div",{children:[(0,f.jsx)(D,{profile:s.profile,status:s.status,updateStatus:s.updateStatus,isOwner:s.isOwner,savePhoto:s.savePhoto,saveProfile:s.saveProfile}),(0,f.jsx)(w,{})]})},B=function(s){(0,n.Z)(e,s);var t=(0,a.Z)(e);function e(s){var i;return(0,r.Z)(this,e),(i=t.call(this,s)).state={isShowMyProfile:!0},i}return(0,o.Z)(e,[{key:"componentDidMount",value:function(){var s=+this.props.router.params.userId,t=this.props.authorisedUserId;s?(this.props.getUserProfile(s),this.props.getStatus(s)):this.props.isAuth&&(this.props.getUserProfile(t),this.props.getStatus(t))}},{key:"componentDidUpdate",value:function(s,t,e){var i=+this.props.router.params.userId,r=this.props.authorisedUserId;this.state.isShowMyProfile&&(i===r&&this.setState({isShowMyProfile:!1}),!i&&this.props.isAuth&&(this.props.getUserProfile(r),this.props.getStatus(r),this.setState({isShowMyProfile:!1})))}},{key:"render",value:function(){return this.props.isAuth||this.props.router.params.userId?(0,f.jsx)("div",{children:(0,f.jsx)(G,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}):(0,f.jsx)(u.Fg,{to:"/login"})}}]),e}(c.Component);var E=(0,k.qC)((function(s){return function(t){var e=(0,u.TH)(),r=(0,u.s0)(),o=(0,u.UO)();return(0,f.jsx)(s,(0,i.Z)((0,i.Z)({},t),{},{router:{location:e,navigate:r,params:o}}))}}),(0,_.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorisedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getUserProfile:l.et,getStatus:l.lR,updateStatus:l.Nf,savePhoto:l.Ju,saveProfile:l.Ii}))(B)},8312:function(s,t){t.Z={mainPhoto:"Users_mainPhoto__qsFtM",usersPhoto:"Users_usersPhoto__GDoFk",contact:"Users_contact__Encfe"}},7895:function(s,t,e){s.exports=e.p+"static/media/man_user.e9727e6127bbac44d327.png"}}]);
//# sourceMappingURL=428.62289126.chunk.js.map