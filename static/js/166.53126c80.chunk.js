"use strict";(self.webpackChunkway_sam=self.webpackChunkway_sam||[]).push([[166],{3813:function(t,s,r){r.r(s),r.d(s,{default:function(){return q}});var e=r(1413),n=r(5671),i=r(3144),o=r(136),u=r(2882),a=r(2791),c=r(6871),l=r(6070),d="MyPosts_content__plaUH",p="MyPosts_posts__puurh",h="Post_item__WzUdB",f=r(184),m=function(t){return(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("img",{src:"https://w7.pngwing.com/pngs/862/646/png-transparent-beard-hipster-male-man-avatars-xmas-giveaway-icon-thumbnail.png"}),t.messages,(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:["Like ",t.likesCount]})})]})},x=r(6139),v=r(704),j=r(5304),g=r(9086),_=(0,j.D)(10),P=(0,v.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,f.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.jsx)(x.Z,{component:g.gx,name:"newPostText",placeholder:"Enter your post",validate:[j.C,_]}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add posts"})})]})})),Z=function(t){console.log("RENDER");var s=t.posts.map((function(t){return(0,f.jsx)(m,{messages:t.message,likesCount:t.likesCount},t.id)}));return(0,f.jsx)("div",{className:d,children:(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{children:"my posts"}),(0,f.jsx)(P,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,f.jsx)("div",{className:p,children:s})]})})},S=r(8687),C=r(7781),b=(0,C.qC)((0,S.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){t((0,l.Wl)(s))}}})))(Z),w="ProfileInfo_descriptionBlock__gYXcM",y="ProfileInfo_statusJob__zsazX",k=r(5739),U=r.p+"static/media/relax1.7dd6a7559c81f3006b0d.gif",I=r.p+"static/media/searching1.d185888559f689f25b66.gif",N=(r(1298),a.Component,r(885)),A=function(t){var s=(0,a.useState)(!1),r=(0,N.Z)(s,2),e=r[0],n=r[1],i=(0,a.useState)(t.status),o=(0,N.Z)(i,2),u=o[0],c=o[1];return(0,f.jsxs)("div",{children:[!e&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"---------"})}),e&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateStatus(u)},value:u})})]})},F=r(7895),M=r(8312),D=function(t){var s=t.profile,r=t.status,e=t.updateStatus;return s?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:w,children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:null!=s.photos.large?s.photos.large:F,className:M.Z.userPhoto})}),(0,f.jsx)("div",{children:s.fullName}),(0,f.jsx)("div",{children:s.aboutMe}),(0,f.jsx)("div",{children:s.contacts.vk}),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u043e\u0438\u0441\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b: "}),(0,f.jsx)("div",{className:y,children:!0===s.lookingForAJob?(0,f.jsx)("img",{src:I}):(0,f.jsx)("img",{src:U})})]}),(0,f.jsx)(A,{status:r,updateStatus:e})]})}):(0,f.jsx)(k.Z,{})},T=function(t){return(0,f.jsxs)("div",{children:[(0,f.jsx)(D,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,f.jsx)(b,{})]})},E=function(t){(0,o.Z)(r,t);var s=(0,u.Z)(r);function r(t){var e;return(0,n.Z)(this,r),(e=s.call(this,t)).state={isShowMyProfile:!0},e}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){var t=+this.props.router.params.userId,s=this.props.authorisedUserId;t?(this.props.getUserProfile(t),this.props.getStatus(t)):this.props.isAuth&&(this.props.getUserProfile(s),this.props.getStatus(s))}},{key:"componentDidUpdate",value:function(t,s,r){var e=+this.props.router.params.userId,n=this.props.authorisedUserId;this.state.isShowMyProfile&&(e===n&&this.setState({isShowMyProfile:!1}),!e&&this.props.isAuth&&(this.props.getUserProfile(n),this.props.getStatus(n),this.setState({isShowMyProfile:!1})))}},{key:"render",value:function(){return this.props.isAuth||this.props.router.params.userId?(0,f.jsx)("div",{children:(0,f.jsx)(T,(0,e.Z)((0,e.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}):(0,f.jsx)(c.Fg,{to:"/login"})}}]),r}(a.Component);var q=(0,C.qC)((function(t){return function(s){var r=(0,c.TH)(),n=(0,c.s0)(),i=(0,c.UO)();return(0,f.jsx)(t,(0,e.Z)((0,e.Z)({},s),{},{router:{location:r,navigate:n,params:i}}))}}),(0,S.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorisedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:l.et,getStatus:l.lR,updateStatus:l.Nf}))(E)},9086:function(t,s,r){r.d(s,{Gr:function(){return h},II:function(){return p},gx:function(){return d}});var e=r(1413),n=r(5987),i=(r(2791),r(9234)),o=r(6139),u=r(184),a=["input","meta","child"],c=["input","meta","child"],l=function(t){t.input;var s=t.meta,r=s.touched,e=s.error,n=t.children,o=r&&e;return(0,u.jsxs)("div",{className:i.Z.formControl+" "+(o?i.Z.error:""),children:[(0,u.jsx)("div",{children:n}),o&&(0,u.jsx)("span",{children:e})]})},d=function(t){var s=t.input,r=(t.meta,t.child,(0,n.Z)(t,a));return(0,u.jsx)(l,(0,e.Z)((0,e.Z)({},t),{},{children:(0,u.jsx)("textarea",(0,e.Z)((0,e.Z)({},s),r))}))},p=function(t){var s=t.input,r=(t.meta,t.child,(0,n.Z)(t,c));return(0,u.jsx)(l,(0,e.Z)((0,e.Z)({},t),{},{children:(0,u.jsx)("input",(0,e.Z)((0,e.Z)({},s),r))}))},h=function(t,s,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,u.jsxs)("div",{children:[(0,u.jsx)(o.Z,(0,e.Z)({placeholder:t,name:s,validate:r,component:n},i))," ",a]})}},5304:function(t,s,r){r.d(s,{C:function(){return e},D:function(){return n}});var e=function(t){if(!t)return"Field is required"},n=function(t){return function(s){if(s.length>t)return"Max length is ".concat(t," symbols")}}},8312:function(t,s){s.Z={userPhoto:"Users_userPhoto__Xq1KC",usersPhoto:"Users_usersPhoto__GDoFk"}},9234:function(t,s){s.Z={formControl:"FormsControls_formControl__AAwsu",error:"FormsControls_error__DRmrI",formSummaryError:"FormsControls_formSummaryError__OepQF"}},7895:function(t,s,r){t.exports=r.p+"static/media/man_user.e9727e6127bbac44d327.png"}}]);
//# sourceMappingURL=166.53126c80.chunk.js.map